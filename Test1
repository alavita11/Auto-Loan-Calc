describe('Auto Loan Calculator', function () {
  it('Auto Loan Calculator', function () {
    cy.visit('https://www.bankrate.com/calculators/auto/auto-loan-calculator.aspx')

    cy.contains('See amortization schedule').click()
    
    cy.get('gearbox-input') //[name='amount']
    .type('100001')
    .should('have.value', '100001')
  //.expect('br-amount form-input --data-format-left --has-error').to.be.true
    //https://screencast.com/t/TCCDZ8bJUa
    
    cy.get('dropdown__selected selected selectedTitle +mg-bottom-none').click()
    .expect('dropdown__selected selected selectedTitle +mg-bottom-none --is-active').to.be.true
      .select('dropdown__input-label').contains('48 months')
      .expect('dropdown__list-item selected').to.be.true
    
    cy.get('dropdown__selected selected selectedTitle +mg-bottom-none').click()
    .expect('dropdown__selected selected selectedTitle +mg-bottom-none --is-active').to.be.true
      .select('dropdown__input-label').contains('60 months')
      .expect('dropdown__list-item selected').to.be.true
      
    cy.get('dropdown__selected selected selectedTitle +mg-bottom-none').click()
    .expect('dropdown__selected selected selectedTitle +mg-bottom-none --is-active').to.be.true    
      .select('dropdown__input-label').contains('72 months')
      .expect('dropdown__list-item selected').to.be.true
      
    cy.get('dropdown__selected selected selectedTitle +mg-bottom-none')
    .expect('dropdown__selected selected selectedTitle +mg-bottom-none --is-active').to.be.true
      .select('dropdown__input-label').contains('New')
      .expect ('dropdown__list-item selected').to.be.true
      
    cy.get('gearbox-input').contains('interest-rate')
    .type('99')
    .expect('error-message interest-input__error').contains('Invalid rate)
      
    
    //cy.get('[name="countries"]').click().get.('[id="selection_option_375"]').click()

    //new-used dropdown dropdown__selected selected selectedTitle +mg-bottom-none "used"
    

  })
})
